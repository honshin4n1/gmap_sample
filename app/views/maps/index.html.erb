
<h2>gmap</h2>

<%= form_with url: map_request_path, method: :get do |f|%>
  <%= f.text_field :address %>
  <%= f.submit '地図表示' %>
<% end %>
<div id='map'>
</div>

<style>
#map{
  height: 400px;
}
</style>

<script>
let mapInstance

function initMap(){
  // geocoderを初期化

  mapInstance = new google.maps.Map(document.getElementById('map'), {
  center: {lat: 33.591405, lng: 130.3966901},
  zoom: 16
  });
}

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["GOOGLE_API_KEY"] %>&callback=initMap" async defer></script>